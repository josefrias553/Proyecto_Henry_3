services:
  elt-spark:
    build: .
    image: marketplace-rentals-elt:latest
    volumes:
      - .:/app
    environment:
      - AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
      - AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
      - AWS_SESSION_TOKEN=${AWS_SESSION_TOKEN}
      - AWS_REGION=${AWS_REGION:-us-east-1}
      - RAW_BUCKET=${RAW_BUCKET}
      - BRONZE_BUCKET=${BRONZE_BUCKET}
      # Spark Configuration
      - SPARK_DRIVER_MEMORY=4g
    # Mantener el contenedor vivo para depuraci√≥n o exec
    command: tail -f /dev/null
